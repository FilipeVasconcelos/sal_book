%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\exercice{Réduction de schéma-bloc~\moyen}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Le schéma-bloc dans le cas pour lequel l'entrée $P$ est nulle est donné 
ci-dessous
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex1-q1-chap_bloc-ext}
    \input{tikz/ex1-q1-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Pour déterminer la fonction de transfert $H_E(p)$, il nous faut réduire le
schéma-bloc précédent.
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex1-q2-chap_bloc-ext}
    \input{tikz/ex1-q2-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
On se retrouve avec un boucle de contre réaction unitaire dont la fonction
de transfert est donnée par 
\[
    H_E(p)=\dfrac{KH_1H_2H_3}{1+KH_1H_2H_3}
\]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Le schéma-bloc dans le cas pour lequel l'entrée $E$ est nulle est donné 
ci-dessous
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex1-q3-chap_bloc-ext}
    \input{tikz/ex1-q3-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Pour déterminer la fonction de transfert $H_E(p)$, il nous faut réduire le
schéma-bloc précédent.
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex1-q4-chap_bloc-ext}
    \input{tikz/ex1-q4-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
On se retrouve avec un boucle de contre réaction dont la fonction
de transfert est donnée par 
\[
    H_P(p)=\dfrac{H_2H_3}{1+KH_1H_2H_3}
\]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
La sortie globale $S(p)$ est alors donnée par la combinaison des deux réponses :

\[
    S(p)=S_E(p)+S_P(p)=H_E(p)E(p) + H_P(p)P(p)
\]
ou encore
\[
    S(p)=\dfrac{KH_1H_2H_3}{1+KH_1H_2H_3}E(p)+\dfrac{H_2H_3}{1+KH_1H_2H_3} P(p)
\]


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\exercice{Réduction de schémas fonctionnels~\difficile}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{(a)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%-------------------------------------------------------------------------------
\begin{center} 
    \tikzsetnextfilename{ex2-a1-chap_bloc-ext}
    \input{tikz/ex2-a1-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
Réduisons d'abord la boucle de contre réaction interne :
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-a2-chap_bloc-ext}
    \input{tikz/ex2-a2-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
Réduisons maintenant les blocs en série :
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-a3-chap_bloc-ext}
    \input{tikz/ex2-a3-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
On obtient après réduction de cette dernière boucle de contre réaction.
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-a4-chap_bloc-ext}
    \input{tikz/ex2-a4-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\paragraph{(b)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-b1-chap_bloc-ext}
    \input{tikz/ex2-b1-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
Déplaçons le point de prélèvement de la boucle de retour inférieur vers 
la droite  :
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-b2-chap_bloc-ext}
    \input{tikz/ex2-b2-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
L'étape précédente nous permet d'identifier une boucle de contre-réaction 
locale. Après réduction de cette boucle, le schéma-blocs dévient :
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-b3-chap_bloc-ext}
    \input{tikz/ex2-b3-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
La réduction de cette dernière boucle de contre-réaction permet d'identifier 
la fonction de transfert globale :
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-b4-chap_bloc-ext}
    \input{tikz/ex2-b4-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\paragraph{(c)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-c1-chap_bloc-ext}
    \input{tikz/ex2-c1-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
Déplaçons le point de prélèvement entre les $H_1$ et $H_2$ vers la droite:
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-c2-chap_bloc-ext}
    \input{tikz/ex2-c2-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
On reconnait deux branches en parallèle :
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-c3-chap_bloc-ext}
    \input{tikz/ex2-c3-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
La fonction de transfert globale est donc donné par la réduction de cette 
dernière boucle de contre réaction.
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-c4-chap_bloc-ext}
    \input{tikz/ex2-c4-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\paragraph{(d)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-d1-chap_bloc-ext}
    \input{tikz/ex2-d1-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
Déplaçons vers la droite le point de prélèvement situé entre les 
blocs $H_3$ et $H_4$:
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-d2-chap_bloc-ext}
    \input{tikz/ex2-d2-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
Réduisons la boucle de contre-réaction et les blocs en parallèle.
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-d3-chap_bloc-ext}
    \input{tikz/ex2-d3-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
Réduisons la nouvelle boucle de contre-réaction interne :
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-d4-chap_bloc-ext}
    \input{tikz/ex2-d4-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
Cette dernière boucle peut être réduite pour obtenir la fonction de 
transfert globale :
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{ex2-d5-chap_bloc-ext}
    \input{tikz/ex2-d5-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\exercice{Graphe de fluence~\difficile}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{Donner les relations du modèle dans le domaine de Laplace}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Dans le domaine de Laplace, ces dernières deviennent :
\begin{align*}
    I_1(p)=\dfrac{1}{R_1}\big(V_1(p)-V_2(p)\big)\\
    I_2(p)=I_1(p)-\dfrac{1}{R_2}V_2(p)
\end{align*}
Notons que la tension $V_2(p)$ est donnée par :
\[
    V_2(p)=\dfrac{1}{Cp}I_2(p)
\]
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{Tracer le graphe de fluence de ce modèle.}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%-------------------------------------------------------------------------------
\begin{center}
    \tikzsetnextfilename{gf_exo3_2-chap-bloc-ext}
    \input{tikz/gf_exo3_2-chap_bloc.tex}
\end{center}
%-------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question{À partir de ce graphe et appliquant la règle de Mason, déterminer la
fonction de transfert global de ce système.}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Le graphe de fluence présente deux boucles disjointes :
%-------------------------------------------------------------------------------
\begin{itemize}
    \item $\{I_1\rightarrow I_2\rightarrow V_2\rightarrow I_1\}$ 
          de gain $B_1=-\dfrac{1}{R_1Cp}$ 
    \item $\{I_2\rightarrow V_2\}$ de gain $B_2=-\dfrac{1}{R_2Cp}$ 
\end{itemize}
%-------------------------------------------------------------------------------
Le déterminant du graphe est donc donné par :
\[
    \Delta=1-B_1-B_2=\dfrac{R_1R_2C^2p^2+R_2Cp+R_1Cp}{R_1R_2C^2p^2}
\]

Le graphe ne présente qu'un parcours ouvert :
\[
    \{V_1\rightarrow I_1\rightarrow I_2\rightarrow V_2\}
\]
de gain $G_1=\dfrac{1}{R_1Cp}$ et de déterminant $\Delta_1=1$

D'après la règle de Mason, la transmitance est alors donnée par :
\[
    H(p)=\dfrac{V_2(p)}{V_1(p)}=\dfrac{R_2}{R_1R_2Cp+ R_1+R_2}
\]
